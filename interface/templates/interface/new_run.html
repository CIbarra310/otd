{% extends 'interface/layout.html' %}
{% load crispy_forms_tags %}

{% block content %}
<nav class="p-2" aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'dashboard' %}">Dashboard</a></li>
      <li class="breadcrumb-item active" aria-current="page">New Run</li>
    </ol>
</nav>
<main>
    <div class="container shadow-md col-12 col-md-6 col-lg-6 col-xl-4">
        <h1 class="text-center">New Run Request</h1>
        <form method="POST" action="{% url 'new_run' %}">
            {% csrf_token %}
            <!-- Contact information taken from the user data -->
            <div class="container p-2" hidden>
                <input type="text" class="form-control" value="{{ run.requester_name.value}}" disabled>
                <input type="text" class="form-control" value="{{ run.requester_email.value}}" disabled>
                <input type="text" class="form-control" value="{{ run.requester_phone.value}}" disabled>
                <input type="text" class="form-control" value="{{ run.requester_department.value}}" disabled>
            </div>
            <!-- Date and time information for the run-->
            <div class="container p-1" id="step1">
                <div class="p-3">
                    <strong>Date:</strong>
                    <input type="date" class="form-control run-request-input" name="run_date">
                </div>
                <div class="p-3">
                    <strong>When will it be ready?</strong>
            <input type="time" class="form-control run-request-input" name="ready_time">
                </div>
                <div class="p-3">
                    <strong>When do you need it by?</strong>
                    <input type="time" class="form-control run-request-input" name="need_by_this_time">
                </div>
                <div class="next-button-box">
                    <br>
                    <button type="button" class="btn btn-primary next-button">Next</button>
                </div>
            </div>
            <div class="container p-1" id="step2" hidden>
                <h3>Where are we going?</h3>
                <input type="text" class="form-control run-request-input" placeholder="Vendor Name" name="pickup_name">
                <input type="text" class="form-control run-request-input" placeholder="123 Main St" name="pickup_address_1">
                <input type="text" class="form-control run-request-input" placeholder="Unit/Suite/Stage" name="pickup_address_2">
                <div class="row">
                    <div class="col-5">
                        <input type="text" class="form-control run-request-input" placeholder="Los Angeles" name="pickup_city">
                    </div>
                    <div class="col-3">
                        <input type="text" class="form-control run-request-input" placeholder="CA" name="pickup_state">
                    </div>
                    <div class="col-4">
                        <input type="text" class="form-control run-request-input" placeholder="90066" name="pickup_zip">
                    </div>
                </div>
                <div class="next-button-box">
                    <br>
                    <button type="button" class="btn btn-secondary back-button">Back</button>
                    <button type="button" class="btn btn-primary next-button">Next</button>
                </div>
            </div>
            <div class="container p-1" id="step3" hidden>
                <h3>What are we getting?</h3>
                <textarea class="form-control run-request-details" name="run_details" rows="6" placeholder="Run details here"></textarea>
                <div class="next-button-box">
                    <br>
                    <button type="button" class="btn btn-secondary back-button">Back</button>
                    <button type="button" class="btn btn-primary next-button">Next</button>
                </div>
            </div>
            <div class="container p-1" id="step4" hidden>
                <h3>Where are we taking it?</h3>
                <input type="text" class="form-control run-request-input" placeholder="Vendor Name" name="dropoff_name">
                <input type="text" class="form-control run-request-input" placeholder="123 Main St" name="dropoff_address_1">
                <input type="text" class="form-control run-request-input" placeholder="Unit/Suite/Stage" name="dropoff_address_2">
                <div class="row">
                    <div class="col-5">
                        <input type="text" class="form-control run-request-input" placeholder="Los Angeles" name="dropoff_city">
                    </div>
                    <div class="col-3">
                        <input type="text" class="form-control run-request-input" placeholder="CA" name="dropoff_state">
                    </div>
                    <div class="col-4">
                        <input type="text" class="form-control run-request-input" placeholder="90066" name="dropoff_zip">
                    </div>
                </div>
                <div class="next-button-box">
                    <br>
                    <button type="button" class="btn btn-secondary back-button">Back</button>
                    <button type="button" class="btn btn-primary next-button">Next</button>
                </div>
            </div>
            <div class="container p-1" id="step5" hidden>
                <h3>Other Information</h3>
                <input type="text" class="form-control run-request-input" placeholder="Vehicle Size" name="truck_size" list="truck_size">
                <datalist id="truck_size">
                    <option value="Van">
                    <option value="Stakebed">
                    <option value="Box Truck">
                    <option value="5-Ton">
                    <option value="10-Ton">
                    <option value="Tractor">
                </datalist>
                <input type="text" class="form-control run-request-input" placeholder="Purchase Order" name="purchase_order">
                <input type="text" class="form-control run-request-input" placeholder="Invoice #" name="vendor_invoice">
                <div class="next-button-box">
                    <br>
                    <button type="button" class="btn btn-secondary back-button">Back</button>
                    <button type="submit" class="btn btn-primary next-button">Submit</button>
                </div>
            </div>
        </form>
    </div>
    <br>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelector('#step1 .next-button').addEventListener('click', function() {
                document.getElementById('step1').hidden = true;
                document.getElementById('step2').hidden = false;
            });

            document.querySelector('#step2 .back-button').addEventListener('click', function() {
                document.getElementById('step2').hidden = true;
                document.getElementById('step1').hidden = false;
            });
            document.querySelector('#step2 .next-button').addEventListener('click', function() {
                document.getElementById('step1').hidden = true;
                document.getElementById('step2').hidden = true;
                document.getElementById('step3').hidden = false;
            });
            document.querySelector('#step3 .back-button').addEventListener('click', function() {
                document.getElementById('step1').hidden = true;
                document.getElementById('step2').hidden = false;
                document.getElementById('step3').hidden = true;
            });
            document.querySelector('#step3 .next-button').addEventListener('click', function() {
                document.getElementById('step1').hidden = true;
                document.getElementById('step2').hidden = true;
                document.getElementById('step3').hidden = true;
                document.getElementById('step4').hidden = false;
            });
            document.querySelector('#step4 .back-button').addEventListener('click', function() {
                document.getElementById('step1').hidden = true;
                document.getElementById('step2').hidden = true;
                document.getElementById('step3').hidden = false;
                document.getElementById('step4').hidden = true;
            });
            document.querySelector('#step4 .next-button').addEventListener('click', function() {
                document.getElementById('step1').hidden = true;
                document.getElementById('step2').hidden = true;
                document.getElementById('step3').hidden = true;
                document.getElementById('step4').hidden = true;
                document.getElementById('step5').hidden = false;
            });
        });
    </script>
    </div>
</main>
{% endblock %}
